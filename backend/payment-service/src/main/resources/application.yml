server:
  port: 8083
spring:
  application:
    name: payment-service
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:payment}
    username: ${DB_USER:payment}
    password: ${DB_PASSWORD:payment_pass}
    hikari:
      maximum-pool-size: 10
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: update
  flyway:
    enabled: ${FLYWAY_ENABLED:false}
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${KEYCLOAK_HOST:http://auth.freing.test:8100}/realms/${KEYCLOAK_REALM:freing}
      client:
        provider:
          keycloak:
            token-uri: ${KEYCLOAK_HOST:http://auth.freing.test:8100}/realms/${KEYCLOAK_REALM:freing}/protocol/openid-connect/token
        registration:
          service-client:
            provider: keycloak
            client-id: ${PAYMENT_CLIENT_ID:payment-service}
            client-secret: ${PAYMENT_CLIENT_SECRET:payment-secret-REPLACE_ME}
            authorization-grant-type: client_credentials
            scope: service.call

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      probes:
        enabled: true

queue:
  name: payment.requests