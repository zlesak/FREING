server:
  port: 8084
spring:
  mvc:
    servlet:
      path: /api/rendering
  application:
    name: rendering-service
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:rendering}
    username: ${DB_USER:rendering}
    password: ${DB_PASSWORD:rendering_pass}
    hikari:
      maximum-pool-size: 10
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: update
  flyway:
    enabled: ${FLYWAY_ENABLED:false}
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${KEYCLOAK_HOST:http://auth.freing.test:8100}/realms/${KEYCLOAK_REALM:freing}
      client:
        provider:
          keycloak:
            token-uri: ${KEYCLOAK_HOST:http://auth.freing.test:8100}/realms/${KEYCLOAK_REALM:freing}/protocol/openid-connect/token
        registration:
          service-client:
            provider: keycloak
            client-id: ${RENDERING_CLIENT_ID:rendering-service}
            client-secret: ${RENDERING_CLIENT_SECRET:rendering-secret-REPLACE_ME}
            authorization-grant-type: client_credentials
            scope: service.call

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      probes:
        enabled: true
